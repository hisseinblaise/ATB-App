<!-- <ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Contact</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content class="ion-padding">

  <ion-card>
    <ion-card-header>
      <ion-card-title>Formulaire de contact</ion-card-title>
      <ion-card-subtitle>Tous les champs sont obligatoires</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">

        <!-- Prénom -->
        <ion-item [class.item-invalid]="hasError('firstName')">
          <ion-label position="stacked">Prénom</ion-label>
          <ion-input formControlName="firstName" placeholder="Votre prénom"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="hasError('firstName')">
          {{ getErrorMessage('firstName') }}
        </ion-text>

        <!-- Nom -->
        <ion-item [class.item-invalid]="hasError('lastName')">
          <ion-label position="stacked">Nom</ion-label>
          <ion-input formControlName="lastName" placeholder="Votre nom"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="hasError('lastName')">
          {{ getErrorMessage('lastName') }}
        </ion-text>

        <!-- Email -->
        <ion-item [class.item-invalid]="hasError('email')">
          <ion-label position="stacked">Email</ion-label>
          <ion-input type="email" formControlName="email" placeholder="votre@email.com"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="hasError('email')">
          {{ getErrorMessage('email') }}
        </ion-text>

        <!-- Sujet -->
        <ion-item [class.item-invalid]="hasError('sujet')">
          <ion-label position="stacked">Sujet</ion-label>
          <ion-input formControlName="sujet" placeholder="Objet du message"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="hasError('sujet')">
          {{ getErrorMessage('sujet') }}
        </ion-text>

        <!-- Message -->
        <ion-item [class.item-invalid]="hasError('message')">
          <ion-label position="stacked">Message</ion-label>
          <ion-textarea formControlName="message" placeholder="Votre message" rows="6"></ion-textarea>
        </ion-item>
        <ion-text color="danger" *ngIf="hasError('message')">
          {{ getErrorMessage('message') }}
        </ion-text>

        <!-- Bouton -->
        <ion-button expand="block" type="submit" [disabled]="isSubmitting" class="ion-margin-top">
          <ion-spinner *ngIf="isSubmitting" name="crescent"></ion-spinner>
          <span *ngIf="!isSubmitting">Envoyer</span>
        </ion-button>

      </form>
    </ion-card-content>
  </ion-card>

</ion-content>
